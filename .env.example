# ========================================
# ENTRANCE COCKPIT - Environment Variables
# ========================================
# Copy this file to .env and fill in the values
# Never commit .env to version control!

# ========================================
# DOMAIN & NETWORKING
# ========================================
DOMAIN=localhost
# For production, use your actual domain: entrance-cockpit.yourdomain.com

# ========================================
# DATABASE - PostgreSQL
# ========================================
POSTGRES_DB=entrance_db
POSTGRES_USER=entrance_user
POSTGRES_PASSWORD=entrance_password_change_me_in_production
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database Performance Tuning
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB

# ========================================
# CACHE - Redis
# ========================================
REDIS_PASSWORD=redis_password_change_me_in_production
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_MAX_MEMORY=512mb

# ========================================
# MESSAGING - Kafka
# ========================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_NODE_ID=1
CLUSTER_ID=entrance-kafka-cluster-01

# ========================================
# SECURITY - JWT
# ========================================
JWT_SECRET=entrance_cockpit_super_secret_key_change_in_production_min_256_bits
JWT_EXPIRATION=3600
# JWT expiration in seconds (3600 = 1 hour)

# ========================================
# BACKEND SERVICES CONFIGURATION
# ========================================

# Cache Sync Interval (seconds)
CACHE_SYNC_INTERVAL=300

# IoT Simulation Interval (seconds)
SIMULATION_INTERVAL=10

# MQTT Broker (optional for IoT)
MQTT_BROKER_URL=tcp://mosquitto:1883
MQTT_USERNAME=entrance_mqtt
MQTT_PASSWORD=mqtt_password_change_me

# ========================================
# LOGGING & MONITORING
# ========================================
LOG_LEVEL=INFO
# Options: TRACE, DEBUG, INFO, WARN, ERROR

# ========================================
# TRAEFIK - Reverse Proxy
# ========================================
TRAEFIK_DASHBOARD_ENABLED=true
TRAEFIK_API_INSECURE=true
# Set to false in production

# TLS/SSL Configuration
TLS_CERT_RESOLVER=selfSigned
# Options: selfSigned (for dev), letsencrypt (for production)

# Let's Encrypt Email (for production only)
LETSENCRYPT_EMAIL=admin@yourdomain.com

# ========================================
# CORS CONFIGURATION
# ========================================
CORS_ALLOWED_ORIGINS=https://localhost,https://entrance-cockpit.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_MAX_AGE=3600

# ========================================
# RATE LIMITING (Traefik)
# ========================================
RATE_LIMIT_AVERAGE=100
RATE_LIMIT_BURST=50

# ========================================
# APPLICATION SETTINGS
# ========================================
APP_NAME=Entrance Cockpit
APP_VERSION=1.0.0
APP_ENVIRONMENT=development
# Options: development, staging, production

# ========================================
# FRONTEND BUILD
# ========================================
FRONTEND_BUILD_PATH=/app/frontend/dist
VITE_API_BASE_URL=https://localhost

# ========================================
# DOCKER COMPOSE PROFILES
# ========================================
# Uncomment to enable specific profiles
# COMPOSE_PROFILES=monitoring,testing

# ========================================
# HEALTHCHECK CONFIGURATION
# ========================================
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3

# ========================================
# BACKUP CONFIGURATION
# ========================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
# Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=7

# ========================================
# DEVELOPMENT SETTINGS
# ========================================
# Hot reload for development
DEV_HOT_RELOAD=true
DEV_DEBUG_PORT=5005

# ========================================
# NOTES
# ========================================
# 1. Generate strong passwords for production:
#    openssl rand -base64 32
#
# 2. Generate JWT secret (min 256 bits):
#    openssl rand -base64 32
#
# 3. For self-signed certificates (development):
#    See docker/traefik/certs/generate-certs.sh
#
# 4. For Let's Encrypt (production):
#    Set TLS_CERT_RESOLVER=letsencrypt
#    Set LETSENCRYPT_EMAIL to your admin email
#    Ensure ports 80/443 are accessible from the internet
